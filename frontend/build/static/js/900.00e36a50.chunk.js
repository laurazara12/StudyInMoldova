"use strict";(self.webpackChunkstudy_in_moldova=self.webpackChunkstudy_in_moldova||[]).push([[900],{900:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var r=a(43),i=a(375),n=a(213),l=a(216),t=a(579);const c=e=>{let{userData:s}=e;const a=(0,l.Zp)(),[c,d]=(0,r.useState)([]),[o,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[g,p]=(0,r.useState)(!1),[v,x]=(0,r.useState)(null);(0,r.useEffect)((()=>{s&&j()}),[s]);const j=async()=>{try{var e;m(!0),h(null);const s=await n.A.get(`${i.JR}/api/saved-programs`,{headers:(0,i.z5)()});console.log("R\u0103spuns programe salvate:",s.data),null!==(e=s.data)&&void 0!==e&&e.data?d(s.data.data):d([])}catch(u){var s;if(console.error("Eroare la preluarea programelor salvate:",u),401===(null===(s=u.response)||void 0===s?void 0:s.status))return void a("/sign-in");h((0,i.hS)(u).message),d([])}finally{m(!1)}};return o?(0,t.jsx)("div",{className:"saved-programs-section",children:(0,t.jsx)("div",{className:"loading",children:"Se \xeencarc\u0103 programele salvate..."})}):u?(0,t.jsx)("div",{className:"saved-programs-section",children:(0,t.jsx)("div",{className:"error-message",children:u})}):(0,t.jsxs)("div",{className:"saved-programs-section",children:[(0,t.jsx)("h2",{children:"Programe Salvate"}),c.length>0?(0,t.jsx)("div",{className:"programs-grid",children:c.map((e=>{var s;return(0,t.jsxs)("div",{className:"program-card",children:[(0,t.jsxs)("div",{className:"program-header",children:[(0,t.jsx)("h3",{children:e.name||"N/A"}),(0,t.jsx)("button",{className:"remove-button",onClick:()=>(async e=>{x(e),p(!0)})(e.id),children:"Elimin\u0103"})]}),(0,t.jsxs)("div",{className:"program-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Universitate:"})," ",(null===(s=e.university)||void 0===s?void 0:s.name)||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Facultate:"})," ",e.faculty||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Grad:"})," ",e.degree_type||e.degree||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Credite:"})," ",e.credits||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Limb\u0103:"})," ",e.language||"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Durat\u0103:"})," ",e.duration?`${e.duration} ani`:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Tax\u0103 de \u0219colarizare:"})," ",e.tuition_fees?`${e.tuition_fees} EUR`:"N/A"]})]})]},e.id)}))}):(0,t.jsx)("div",{className:"no-programs-message",children:(0,t.jsx)("p",{children:"Nu ave\u021bi programe salvate."})}),g&&(0,t.jsx)("div",{className:"confirmation-modal",children:(0,t.jsxs)("div",{className:"confirmation-content",children:[(0,t.jsx)("h3",{children:"Confirmare \u0219tergere"}),(0,t.jsx)("p",{children:"E\u0219ti sigur c\u0103 vrei s\u0103 elimini acest program din lista ta?"}),(0,t.jsxs)("div",{className:"confirmation-buttons",children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>{p(!1),x(null)},children:"Anuleaz\u0103"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(v)try{(await n.A.delete(`${i.JR}/api/saved-programs/${v}`,{headers:(0,i.z5)()})).data.success&&(d((e=>e.filter((e=>e.id!==v)))),setNotification({type:"success",message:"Programul a fost eliminat cu succes!"}))}catch(u){console.error("Eroare la eliminarea programului:",u),h("A ap\u0103rut o eroare la eliminarea programului. V\u0103 rug\u0103m s\u0103 \xeencerca\u021bi din nou.")}finally{p(!1),x(null)}},children:"Elimin\u0103"})]})]})})]})}}}]);
//# sourceMappingURL=900.00e36a50.chunk.js.map