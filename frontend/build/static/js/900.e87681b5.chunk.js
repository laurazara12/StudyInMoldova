"use strict";(self.webpackChunkstudy_in_moldova=self.webpackChunkstudy_in_moldova||[]).push([[900],{900:(e,s,r)=>{r.r(s),r.d(s,{default:()=>o});var a=r(43),n=r(375),i=r(213),l=r(216),d=r(579);const o=e=>{let{userData:s}=e;const r=(0,l.Zp)(),[o,t]=(0,a.useState)([]),[c,h]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),[g,v]=(0,a.useState)(!1),[p,x]=(0,a.useState)(null);(0,a.useEffect)((()=>{s&&j()}),[s]);const j=async()=>{try{var e;h(!0),u(null);const s=await i.A.get(`${n.JR}/api/saved-programs`,{headers:(0,n.z5)()});console.log("Saved programs response:",s.data),null!==(e=s.data)&&void 0!==e&&e.data?t(s.data.data):t([])}catch(m){var s;if(console.error("Error fetching saved programs:",m),401===(null===(s=m.response)||void 0===s?void 0:s.status))return void r("/sign-in");u((0,n.hS)(m).message),t([])}finally{h(!1)}};return c?(0,d.jsx)("div",{className:"saved-programs-section",children:(0,d.jsx)("div",{className:"loading",children:"Loading saved programs..."})}):m?(0,d.jsx)("div",{className:"saved-programs-section",children:(0,d.jsx)("div",{className:"error-message",children:m})}):(0,d.jsxs)("div",{className:"saved-programs-section",children:[(0,d.jsx)("h2",{children:"Saved Programs"}),o.length>0?(0,d.jsx)("div",{className:"programs-grid",children:o.map((e=>{var s;return(0,d.jsxs)("div",{className:"program-card",children:[(0,d.jsxs)("div",{className:"program-header",children:[(0,d.jsx)("h3",{children:e.name||"N/A"}),(0,d.jsx)("button",{className:"btn1",onClick:()=>(async e=>{x(e),v(!0)})(e.id),children:"Remove"})]}),(0,d.jsxs)("div",{className:"program-details",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"University:"})," ",(null===(s=e.university)||void 0===s?void 0:s.name)||"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Faculty:"})," ",e.faculty||"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Degree:"})," ",e.degree_type||e.degree||"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Credits:"})," ",e.credits||"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Language:"})," ",e.language||"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Duration:"})," ",e.duration?`${e.duration} years`:"N/A"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Tuition Fee:"})," ",e.tuition_fees?`${e.tuition_fees} EUR`:"N/A"]})]})]},e.id)}))}):(0,d.jsx)("div",{className:"no-programs-message",children:(0,d.jsx)("p",{children:"You don't have any saved programs."})}),g&&(0,d.jsx)("div",{className:"confirmation-modal",children:(0,d.jsxs)("div",{className:"confirmation-content",children:[(0,d.jsx)("h3",{children:"Delete Confirmation"}),(0,d.jsx)("p",{children:"Are you sure you want to remove this program from your list?"}),(0,d.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,d.jsx)("button",{className:"btn2",onClick:()=>{v(!1),x(null)},children:"Cancel"}),(0,d.jsx)("button",{className:"btn1",onClick:async()=>{if(p)try{(await i.A.delete(`${n.JR}/api/saved-programs/${p}`,{headers:(0,n.z5)()})).data.success&&(t((e=>e.filter((e=>e.id!==p)))),setNotification({type:"success",message:"Your document has been successfully uploaded"}))}catch(m){console.error("Error removing program:",m),u("An error occurred while removing the program. Please try again.")}finally{v(!1),x(null)}},children:"Remove"})]})]})})]})}}}]);
//# sourceMappingURL=900.e87681b5.chunk.js.map