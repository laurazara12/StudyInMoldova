{"version":3,"file":"static/js/900.e87681b5.chunk.js","mappings":"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","sources":["views/profile/profile-tabs/saved-programs-tab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { API_BASE_URL, getAuthHeaders, handleApiError } from '../../../config/api.config';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './saved-programs-tab.css';\n\nconst SavedProgramsTab = ({ userData }) => {\n  const navigate = useNavigate();\n  const [savedPrograms, setSavedPrograms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\n  const [programToDelete, setProgramToDelete] = useState(null);\n\n  useEffect(() => {\n    if (userData) {\n      fetchSavedPrograms();\n    }\n  }, [userData]);\n\n  const fetchSavedPrograms = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await axios.get(`${API_BASE_URL}/api/saved-programs`, {\n        headers: getAuthHeaders()\n      });\n      \n      console.log('Saved programs response:', response.data);\n      \n      if (response.data?.data) {\n        setSavedPrograms(response.data.data);\n      } else {\n        setSavedPrograms([]);\n      }\n    } catch (error) {\n      console.error('Error fetching saved programs:', error);\n      \n      if (error.response?.status === 401) {\n        navigate('/sign-in');\n        return;\n      }\n      setError(handleApiError(error).message);\n      setSavedPrograms([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemoveSavedProgram = async (programId) => {\n    setProgramToDelete(programId);\n    setShowDeleteConfirmation(true);\n  };\n\n  const confirmDeleteProgram = async () => {\n    if (!programToDelete) return;\n\n    try {\n      const response = await axios.delete(\n        `${API_BASE_URL}/api/saved-programs/${programToDelete}`,\n        { headers: getAuthHeaders() }\n      );\n\n      if (response.data.success) {\n        setSavedPrograms(prev => prev.filter(p => p.id !== programToDelete));\n        setNotification({\n          type: 'success',\n          message: 'Your document has been successfully uploaded'\n        });\n      }\n    } catch (error) {\n      console.error('Error removing program:', error);\n      setError('An error occurred while removing the program. Please try again.');\n    } finally {\n      setShowDeleteConfirmation(false);\n      setProgramToDelete(null);\n    }\n  };\n\n  const cancelDeleteProgram = () => {\n    setShowDeleteConfirmation(false);\n    setProgramToDelete(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"saved-programs-section\">\n        <div className=\"loading\">Loading saved programs...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"saved-programs-section\">\n        <div className=\"error-message\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"saved-programs-section\">\n      <h2>Saved Programs</h2>\n      {savedPrograms.length > 0 ? (\n        <div className=\"programs-grid\">\n          {savedPrograms.map((program) => (\n            <div key={program.id} className=\"program-card\">\n              <div className=\"program-header\">\n                <h3>{program.name || 'N/A'}</h3>\n                <button\n                  className=\"btn1\"\n                  onClick={() => handleRemoveSavedProgram(program.id)}\n                >\n                  Remove\n                </button>\n              </div>\n              <div className=\"program-details\">\n                <p><strong>University:</strong> {program.university?.name || 'N/A'}</p>\n                <p><strong>Faculty:</strong> {program.faculty || 'N/A'}</p>\n                <p><strong>Degree:</strong> {program.degree_type || program.degree || 'N/A'}</p>\n                <p><strong>Credits:</strong> {program.credits || 'N/A'}</p>\n                <p><strong>Language:</strong> {program.language || 'N/A'}</p>\n                <p><strong>Duration:</strong> {program.duration ? `${program.duration} years` : 'N/A'}</p>\n                <p><strong>Tuition Fee:</strong> {program.tuition_fees ? `${program.tuition_fees} EUR` : 'N/A'}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"no-programs-message\">\n          <p>You don't have any saved programs.</p>\n        </div>\n      )}\n\n      {showDeleteConfirmation && (\n        <div className=\"confirmation-modal\">\n          <div className=\"confirmation-content\">\n            <h3>Delete Confirmation</h3>\n            <p>Are you sure you want to remove this program from your list?</p>\n            <div style={{ gap: '10px', display: 'flex' }}>\n              <button \n                className=\"btn2\" \n                onClick={cancelDeleteProgram}\n              >\n                Cancel\n              </button>\n              <button \n                className=\"btn1\" \n                onClick={confirmDeleteProgram}\n              >\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SavedProgramsTab;\n"],"names":["_ref","userData","navigate","useNavigate","savedPrograms","setSavedPrograms","useState","loading","setLoading","error","setError","showDeleteConfirmation","setShowDeleteConfirmation","programToDelete","setProgramToDelete","useEffect","fetchSavedPrograms","async","_response$data","response","axios","get","API_BASE_URL","headers","getAuthHeaders","console","log","data","_error$response","status","handleApiError","message","_jsx","className","children","_jsxs","length","map","program","_program$university","name","onClick","programId","handleRemoveSavedProgram","id","university","faculty","degree_type","degree","credits","language","duration","tuition_fees","style","gap","display","cancelDeleteProgram","delete","success","prev","filter","p","setNotification","type"],"sourceRoot":""}