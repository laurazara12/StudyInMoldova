{"version":3,"file":"static/js/796.90ecfe1f.chunk.js","mappings":"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","sources":["views/profile/profile-tabs/plan-your-studies-tab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './plan-your-studies-tab.css';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport { useAuth } from '../../../contexts/AuthContext';\nimport { API_BASE_URL, getAuthHeaders } from '../../../config/api.config';\n\nconst PlanYourStudies = ({ userData }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [formData, setFormData] = useState({\n    desired_study_level: '',\n    preferred_study_field: '',\n    desired_academic_year: '',\n    preferred_study_language: '',\n    estimated_budget: '',\n    accommodation_preferences: ''\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const { setUserData, updateProfile } = useAuth();\n\n  useEffect(() => {\n    if (userData) {\n      setFormData({\n        desired_study_level: userData.desired_study_level || '',\n        preferred_study_field: userData.preferred_study_field || '',\n        desired_academic_year: userData.desired_academic_year || '',\n        preferred_study_language: userData.preferred_study_language || '',\n        estimated_budget: userData.estimated_budget || '',\n        accommodation_preferences: userData.accommodation_preferences || ''\n      });\n      setIsLoading(false);\n    }\n  }, [userData]);\n\n  const validateField = (name, value) => {\n    switch (name) {\n      case 'desired_study_level':\n        return value ? '' : 'Study level is required';\n      case 'preferred_study_field':\n        return value ? '' : 'Study field is required';\n      case 'desired_academic_year':\n        return value ? '' : 'Academic year is required';\n      case 'preferred_study_language':\n        return value ? '' : 'Study language is required';\n      case 'estimated_budget':\n        if (!value) return 'Budget is required';\n        if (isNaN(value) || Number(value) <= 0) return 'Budget must be a positive number';\n        return '';\n      case 'accommodation_preferences':\n        return value ? '' : 'Accommodation preferences are required';\n      default:\n        return '';\n    }\n  };\n\n  const calculateProfileProgress = () => {\n    const fields = [\n      { name: 'phone', weight: 1 },\n      { name: 'date_of_birth', weight: 1 },\n      { name: 'country_of_origin', weight: 1 },\n      { name: 'nationality', weight: 1 },\n      { name: 'desired_study_level', weight: 2 },\n      { name: 'preferred_study_field', weight: 2 },\n      { name: 'desired_academic_year', weight: 2 },\n      { name: 'preferred_study_language', weight: 2 },\n      { name: 'estimated_budget', weight: 1.5 },\n      { name: 'accommodation_preferences', weight: 1.5 }\n    ];\n\n    const totalWeight = fields.reduce((sum, field) => sum + field.weight, 0);\n    let completedWeight = 0;\n\n    fields.forEach(field => {\n      const value = userData?.[field.name];\n      if (value && value.toString().trim() !== '') {\n        if (field.name === 'estimated_budget') {\n          const budget = Number(value);\n          if (!isNaN(budget) && budget > 0) {\n            completedWeight += field.weight;\n          }\n        } else {\n          completedWeight += field.weight;\n        }\n      }\n    });\n\n    return Math.round((completedWeight / totalWeight) * 100);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    const error = validateField(name, value);\n    setFormErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    Object.keys(formData).forEach(key => {\n      const error = validateField(key, formData[key]);\n      if (error) errors[key] = error;\n    });\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleEditStudyPlan = async () => {\n    if (!validateForm()) {\n      toast.error('Please fill in all required fields correctly');\n      return;\n    }\n\n    try {\n      const response = await axios.put(\n        `${API_BASE_URL}/api/users/profile`,\n        formData,\n        { headers: getAuthHeaders() }\n      );\n\n      if (response.data?.success) {\n        const updatedUserData = response.data.data;\n        setIsEditing(false);\n        setFormData({\n          desired_study_level: updatedUserData.desired_study_level || '',\n          preferred_study_field: updatedUserData.preferred_study_field || '',\n          desired_academic_year: updatedUserData.desired_academic_year || '',\n          preferred_study_language: updatedUserData.preferred_study_language || '',\n          estimated_budget: updatedUserData.estimated_budget || '',\n          accommodation_preferences: updatedUserData.accommodation_preferences || ''\n        });\n        \n        if (updateProfile) {\n          updateProfile(updatedUserData);\n        }\n        \n        toast.success('Study plan updated successfully!');\n      }\n    } catch (error) {\n      console.error('Error updating study plan:', error);\n      toast.error('An error occurred while updating the study plan.');\n    }\n  };\n\n  const getProfileRecommendations = () => {\n    const recommendations = [];\n    \n    const fields = [\n      { name: 'phone', text: 'Add phone number' },\n      { name: 'date_of_birth', text: 'Add date of birth' },\n      { name: 'country_of_origin', text: 'Add country of origin' },\n      { name: 'nationality', text: 'Add nationality' },\n      { name: 'desired_study_level', text: 'Select desired study level' },\n      { name: 'preferred_study_field', text: 'Add preferred study field' },\n      { name: 'desired_academic_year', text: 'Select desired academic year' },\n      { name: 'preferred_study_language', text: 'Select preferred study language' },\n      { name: 'estimated_budget', text: 'Add estimated budget' },\n      { name: 'accommodation_preferences', text: 'Add accommodation preferences' }\n    ];\n\n    fields.forEach(field => {\n      const isComplete = isFieldComplete(field.name);\n      if (!isComplete) {\n        recommendations.push({\n          text: field.text,\n          completed: false\n        });\n      }\n    });\n    \n    return recommendations;\n  };\n\n  const isFieldComplete = (fieldName) => {\n    const value = userData?.[fieldName];\n    if (!value) return false;\n    \n    if (fieldName === 'estimated_budget') {\n      const budget = Number(value);\n      return !isNaN(budget) && budget > 0;\n    }\n    \n    return value.toString().trim() !== '';\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"plan-your-studies\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Loading data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"plan-your-studies\">\n      <div className=\"plan-your-studies-content\">\n        <div className=\"profile-progress-container\">\n          <div className=\"profile-progress\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\" \n                style={{ width: `${calculateProfileProgress()}%` }}\n              ></div>\n            </div>\n            <span className=\"progress-text\">{calculateProfileProgress()}% Completed</span>\n          </div>\n          \n          {calculateProfileProgress() < 100 && (\n            <div className=\"profile-recommendations\">\n              <h3>Recommendations for completing the profile</h3>\n              <ul>\n                {getProfileRecommendations().map((recommendation, index) => (\n                  <li key={index} className={recommendation.completed ? 'completed' : ''}>\n                    <span>{recommendation.text}</span>\n                    {recommendation.completed && <span className=\"checkmark\">✓</span>}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n\n        <div className=\"study-plan-section\">\n          <h2>Plan Your Studies</h2>\n          <div className=\"study-plan-details\">\n            <div className={`study-plan-field ${isFieldComplete('desired_study_level') ? 'completed' : ''}`}>\n              <label>\n                Desired Study Level:\n                {isFieldComplete('desired_study_level') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.desired_study_level || 'Not specified'}</span>\n            </div>\n            <div className={`study-plan-field ${isFieldComplete('preferred_study_field') ? 'completed' : ''}`}>\n              <label>\n                Preferred Study Field:\n                {isFieldComplete('preferred_study_field') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.preferred_study_field || 'Not specified'}</span>\n            </div>\n            <div className={`study-plan-field ${isFieldComplete('desired_academic_year') ? 'completed' : ''}`}>\n              <label>\n                Desired Academic Year:\n                {isFieldComplete('desired_academic_year') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.desired_academic_year || 'Not specified'}</span>\n            </div>\n            <div className={`study-plan-field ${isFieldComplete('preferred_study_language') ? 'completed' : ''}`}>\n              <label>\n                Preferred Study Language:\n                {isFieldComplete('preferred_study_language') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.preferred_study_language || 'Not specified'}</span>\n            </div>\n            <div className={`study-plan-field ${isFieldComplete('estimated_budget') ? 'completed' : ''}`}>\n              <label>\n                Estimated Budget:\n                {isFieldComplete('estimated_budget') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.estimated_budget ? `${userData.estimated_budget} EUR` : 'Not specified'}</span>\n            </div>\n            <div className={`study-plan-field ${isFieldComplete('accommodation_preferences') ? 'completed' : ''}`}>\n              <label>\n                Accommodation Preferences:\n                {isFieldComplete('accommodation_preferences') && <span className=\"checkmark\">✓</span>}\n              </label>\n              <span>{userData?.accommodation_preferences || 'Not specified'}</span>\n            </div>\n          </div>\n          <button \n            className=\"edit-study-plan-button\"\n            onClick={() => setIsEditing(true)}\n          >\n            Edit Study Plan\n          </button>\n        </div>\n      </div>\n\n      {isEditing && (\n        <div className=\"edit-study-plan-modal\">\n          <div className=\"modal-content\">\n            <h2>Edit Study Plan</h2>\n            <form onSubmit={(e) => { e.preventDefault(); handleEditStudyPlan(); }}>\n              <div className=\"form-group\">\n                <label>Desired Study Level: <span className=\"required\">*</span></label>\n                <select\n                  name=\"desired_study_level\"\n                  value={formData.desired_study_level}\n                  onChange={handleChange}\n                  className={formErrors.desired_study_level ? 'error' : ''}\n                >\n                  <option value=\"\">Select Level</option>\n                  <option value=\"Bachelor\">Bachelor</option>\n                  <option value=\"Master\">Master</option>\n                  <option value=\"PhD\">PhD</option>\n                </select>\n                {formErrors.desired_study_level && (\n                  <span className=\"error-message\">{formErrors.desired_study_level}</span>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <label>Preferred Study Field: <span className=\"required\">*</span></label>\n                <input\n                  type=\"text\"\n                  name=\"preferred_study_field\"\n                  value={formData.preferred_study_field}\n                  onChange={handleChange}\n                  placeholder=\"Enter study field\"\n                  className={formErrors.preferred_study_field ? 'error' : ''}\n                />\n                {formErrors.preferred_study_field && (\n                  <span className=\"error-message\">{formErrors.preferred_study_field}</span>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <label>Desired Academic Year: <span className=\"required\">*</span></label>\n                <input\n                  type=\"text\"\n                  name=\"desired_academic_year\"\n                  value={formData.desired_academic_year}\n                  onChange={handleChange}\n                  placeholder=\"Enter academic year\"\n                  className={formErrors.desired_academic_year ? 'error' : ''}\n                />\n                {formErrors.desired_academic_year && (\n                  <span className=\"error-message\">{formErrors.desired_academic_year}</span>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <label>Preferred Study Language: <span className=\"required\">*</span></label>\n                <select\n                  name=\"preferred_study_language\"\n                  value={formData.preferred_study_language}\n                  onChange={handleChange}\n                  className={formErrors.preferred_study_language ? 'error' : ''}\n                >\n                  <option value=\"\">Select Language</option>\n                  <option value=\"English\">English</option>\n                  <option value=\"Romanian\">Romanian</option>\n                  <option value=\"Russian\">Russian</option>\n                </select>\n                {formErrors.preferred_study_language && (\n                  <span className=\"error-message\">{formErrors.preferred_study_language}</span>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <label>Estimated Budget (EUR): <span className=\"required\">*</span></label>\n                <input\n                  type=\"number\"\n                  name=\"estimated_budget\"\n                  value={formData.estimated_budget}\n                  onChange={handleChange}\n                  placeholder=\"Enter budget\"\n                  min=\"0\"\n                  className={formErrors.estimated_budget ? 'error' : ''}\n                />\n                {formErrors.estimated_budget && (\n                  <span className=\"error-message\">{formErrors.estimated_budget}</span>\n                )}\n              </div>\n              <div className=\"form-group\">\n                <label>Accommodation Preferences: <span className=\"required\">*</span></label>\n                <select\n                  name=\"accommodation_preferences\"\n                  value={formData.accommodation_preferences}\n                  onChange={handleChange}\n                  className={formErrors.accommodation_preferences ? 'error' : ''}\n                >\n                  <option value=\"\">Select Preference</option>\n                  <option value=\"Dormitory\">Dormitory</option>\n                  <option value=\"Private Apartment\">Private Apartment</option>\n                  <option value=\"Shared Apartment\">Shared Apartment</option>\n                </select>\n                {formErrors.accommodation_preferences && (\n                  <span className=\"error-message\">{formErrors.accommodation_preferences}</span>\n                )}\n              </div>\n              <div className=\"modal-buttons\">\n                <button type=\"submit\" className=\"save-button\">Save</button>\n                <button \n                  type=\"button\" \n                  className=\"cancel-button\"\n                  onClick={() => setIsEditing(false)}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PlanYourStudies; "],"names":["_ref","userData","isEditing","setIsEditing","useState","isLoading","setIsLoading","formData","setFormData","desired_study_level","preferred_study_field","desired_academic_year","preferred_study_language","estimated_budget","accommodation_preferences","formErrors","setFormErrors","setUserData","updateProfile","useAuth","useEffect","validateField","name","value","isNaN","Number","calculateProfileProgress","fields","weight","totalWeight","reduce","sum","field","completedWeight","forEach","toString","trim","budget","Math","round","handleChange","event","target","prev","error","handleEditStudyPlan","async","validateForm","errors","Object","keys","key","length","_response$data","response","axios","put","API_BASE_URL","headers","getAuthHeaders","data","success","updatedUserData","toast","console","isFieldComplete","fieldName","_jsx","className","children","_jsxs","style","width","getProfileRecommendations","recommendations","text","push","completed","map","recommendation","index","onClick","onSubmit","e","preventDefault","onChange","type","placeholder","min"],"sourceRoot":""}